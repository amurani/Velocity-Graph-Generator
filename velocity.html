<!DOCTYPE html>
<html>
	<head>
		<title>Velocity Graph</title>
		<style type="text/css">
			body { background-color: #f2f2f2; text-align: center; }
			img { width: auto; height: 75px; background-color: #fff; border: 1px solid #ccc; border-radius: 3px; padding: 5px; display: inline-block; margin: 5px; }
		</style>
	</head>
	<body>

		<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
		<script type="text/javascript" src="bower_components/canvg/dist/canvg.min.js"></script>
		<script type="text/javascript" src="velocity_html.js"></script>
		<script type="text/javascript">

			$(function() {

				function renderCompanyData(company) {
					$.getJSON('data/' + company.toUpperCase() + '.json', function (prices) {
						if (prices.length > 0) {
							var img = velocity.generateGraph(prices, company);
							$('body').append(img);
						}
					});
				}

				$.getJSON('data/companies.json', function(data) {
					for (var i in data) {
						var company = data[i];
						renderCompanyData(company);
					}
				});

			});

		</script>
	</body>
</html>